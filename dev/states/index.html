<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>States · AutomotiveDrivingModels.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>AutomotiveDrivingModels.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../Roadways/">Roadways</a></li><li><a class="toctext" href="../actions/">Driving Actions</a></li><li><a class="toctext" href="../agent_definitions/">Agent Definition</a></li><li><a class="toctext" href="../behaviors/">Behaviors</a></li><li><a class="toctext" href="../collision_checkers/">Collision Checker</a></li><li><a class="toctext" href="../feature_extraction/">Feature Extraction [WIP]</a></li><li><a class="toctext" href="../">About</a></li><li><a class="toctext" href="../simulation/">Simulation</a></li><li class="current"><a class="toctext" href>States</a><ul class="internal"><li><a class="toctext" href="#Agent-States-1">Agent States</a></li><li><a class="toctext" href="#Scenes-1">Scenes</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>States</a></li></ul><a class="edit-page" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/master/docs/src/states.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>States</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="States-1" href="#States-1">States</a></h1><p>In this section of the documentation we explain the default vehicle state type provided by <code>AutomotiveDrivingModels</code> as well as the data types used to represent driving scene. Most of the underlying structures are defined in <code>Records.jl</code>.  The data structure provided in ADM.jl are concrete instances of parametric types defined in Records. It is possible in principle to define your custom state definition and use the interface defined in ADM.jl.</p><h2><a class="nav-anchor" id="Agent-States-1" href="#Agent-States-1">Agent States</a></h2><p>Agents are represented by  the entity data type provided by <code>Records.jl</code>. The entity data type has three field: a state, a definition, and an id. </p><p>The state of an entity usually describes physical quantity such as position and velocity. </p><p>Two states data structure are provided.</p><h3><a class="nav-anchor" id="D-states-and-vehicles-1" href="#D-states-and-vehicles-1">1D states and vehicles</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.State1D" href="#AutomotiveDrivingModels.State1D"><code>AutomotiveDrivingModels.State1D</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">State1D</code></pre><p>A data type to represent one dimensional states</p><p><strong>Fields</strong></p><pre><code class="language-none">- `s::Float64` position 
- `v::Float64` speed [m/s]</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/1d_states.jl#L1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.Vehicle1D" href="#AutomotiveDrivingModels.Vehicle1D"><code>AutomotiveDrivingModels.Vehicle1D</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Vehicle1D</code></pre><p>A specific instance of the Entity type defined in Records.jl to represent vehicles in 1d environments.</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/1d_states.jl#L23-L26">source</a></section><h3><a class="nav-anchor" id="D-states-and-vehicles-2" href="#D-states-and-vehicles-2">2D states and vehicles</a></h3><p>Here we list useful functions to interact with vehicle states and retrieve interesting information like the position of the front of the vehicle or the lane to which the vehicle belong.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.VehicleState" href="#AutomotiveDrivingModels.VehicleState"><code>AutomotiveDrivingModels.VehicleState</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">VehicleState</code></pre><p>A default type to represent an agent physical state (position, velocity). It contains the position in the global frame, Frenet frame and the longitudinal velocity</p><p><strong>constructors</strong></p><pre><code class="language-none">VehicleState(posG::VecSE2{Float64}, v::Float64) 
VehicleState(posG::VecSE2{Float64}, roadway::Roadway, v::Float64)
VehicleState(posG::VecSE2{Float64}, lane::Lane, roadway::Roadway, v::Float64)
VehicleState(posF::Frenet, roadway::Roadway, v::Float64)</code></pre><p><strong>fields</strong></p><ul><li><code>posG::VecSE2{Float64}</code> global position</li><li><code>posF::Frenet</code> lane relative position</li><li><code>v::Float64</code> longitudinal velocity</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L1-L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Vec.lerp-Tuple{VehicleState,VehicleState,Float64,Roadway}" href="#Vec.lerp-Tuple{VehicleState,VehicleState,Float64,Roadway}"><code>Vec.lerp</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Vec.lerp(a::VehicleState, b::VehicleState, t::Float64, roadway::Roadway)</code></pre><p>Perform linear interpolation of the two vehicle states. Returns a VehicleState.</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L47-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_vel_s" href="#AutomotiveDrivingModels.get_vel_s"><code>AutomotiveDrivingModels.get_vel_s</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_vel_s(s::VehicleState)</code></pre><p>returns the longitudinal velocity (along the lane)</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L57-L60">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_vel_t" href="#AutomotiveDrivingModels.get_vel_t"><code>AutomotiveDrivingModels.get_vel_t</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_vel_t(s::VehicleState)</code></pre><p>returns the lateral velocity (⟂ to lane)</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L62-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.move_along-Tuple{VehicleState,Roadway,Float64}" href="#AutomotiveDrivingModels.move_along-Tuple{VehicleState,Roadway,Float64}"><code>AutomotiveDrivingModels.move_along</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">move_along(vehstate::VehicleState, roadway::Roadway, Δs::Float64;
ϕ₂::Float64=vehstate.posF.ϕ, t₂::Float64=vehstate.posF.t, v₂::Float64=vehstate.v)</code></pre><p>returns a vehicle state after moving vehstate of a length Δs along its lane.</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L68-L73">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.Vehicle" href="#AutomotiveDrivingModels.Vehicle"><code>AutomotiveDrivingModels.Vehicle</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Vehicle</code></pre><p>A specific instance of the Entity type defined in Records to represent Vehicles with  state <code>VehicleState</code> , definition <code>VehicleDef</code> and id <code>Int64</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L90-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_front" href="#AutomotiveDrivingModels.get_front"><code>AutomotiveDrivingModels.get_front</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_front(veh::Vehicle)</code></pre><p>returns the position of the front of the vehicle</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L109-L112">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_rear" href="#AutomotiveDrivingModels.get_rear"><code>AutomotiveDrivingModels.get_rear</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_rear(veh::Vehicle)</code></pre><p>returns the position of the rear of the vehicle</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L115-L118">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_center" href="#AutomotiveDrivingModels.get_center"><code>AutomotiveDrivingModels.get_center</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_center(veh::Vehicle)</code></pre><p>returns the position of the center of the vehicle</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L98-L101">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_footpoint" href="#AutomotiveDrivingModels.get_footpoint"><code>AutomotiveDrivingModels.get_footpoint</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_footpoint(veh::Vehicle)</code></pre><p>returns the position of the footpoint of the vehicle</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L103-L106">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.get_lane" href="#AutomotiveDrivingModels.get_lane"><code>AutomotiveDrivingModels.get_lane</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_lane(roadway::Roadway, vehicle::Vehicle)
get_lane(roadway::Roadway, vehicle::VehicleState)</code></pre><p>return the lane where <code>vehicle</code> is in.</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/vehicle_state.jl#L122-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.convert-Union{Tuple{D}, Tuple{Type{Entity{VehicleState,VehicleDef,Int64}},Entity{VehicleState,D,Int64}}} where D&lt;:AbstractAgentDefinition" href="#Base.convert-Union{Tuple{D}, Tuple{Type{Entity{VehicleState,VehicleDef,Int64}},Entity{VehicleState,D,Int64}}} where D&lt;:AbstractAgentDefinition"><code>Base.convert</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Base.convert(::Type{Vehicle}, veh::Entity{VehicleState, D, Int64}) where D&lt;:AbstractAgentDefinition</code></pre><p>Converts an entity in Vehicle (it is converting the agent definition only)</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/scenes.jl#L16-L20">source</a></section><h2><a class="nav-anchor" id="Scenes-1" href="#Scenes-1">Scenes</a></h2><p>A Scene represents a collection of vehicles at a given time. </p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.Scene" href="#AutomotiveDrivingModels.Scene"><code>AutomotiveDrivingModels.Scene</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Scene</code></pre><p>A Scene is a specific instance of the Frame type defined in Records. It represents a collection of vehicles at a given time.</p><p><strong>Constructors</strong></p><pre><code class="language-none">- `Scene(n::Int=100)`
- `Scene(arr::Vector{Vehicle})`</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/scenes.jl#L1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.SceneRecord" href="#AutomotiveDrivingModels.SceneRecord"><code>AutomotiveDrivingModels.SceneRecord</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">SceneRecord</code></pre><p>A SceneRecord is a specific instance of the QueueRecord type defined in Records.jl. It represents a collection of Scenes.</p><p><strong>constructor</strong></p><pre><code class="language-none">SceneRecord(capacity::Int, timestep::Float64, frame_capacity::Int=100)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/scenes.jl#L26-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="AutomotiveDrivingModels.Trajdata" href="#AutomotiveDrivingModels.Trajdata"><code>AutomotiveDrivingModels.Trajdata</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Trajdata</code></pre><p>Trajdata is a specific instance of ListRecord defined in Records.jl. It is a collection of Scenes</p></div></div><a class="source-link" target="_blank" href="https://github.com/sisl/AutomotiveDrivingModels.jl/blob/050911ba42d3569283a8297ebdc4de724dd7344e/src/states/trajdatas.jl#L1-L4">source</a></section><footer><hr/><a class="previous" href="../simulation/"><span class="direction">Previous</span><span class="title">Simulation</span></a></footer></article></body></html>
